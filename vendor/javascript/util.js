import{ranks as t,files as e}from"./types.js";const o=[...t].reverse();const n=Array.prototype.concat(...e.map((e=>t.map((t=>e+t)))));const pos2key=t=>n[8*t[0]+t[1]];const key2pos=t=>[t.charCodeAt(0)-97,t.charCodeAt(1)-49];const uciToMove=t=>{if(t)return t[1]==="@"?[t.slice(2,4)]:[t.slice(0,2),t.slice(2,4)]};const r=n.map(key2pos);function memo(t){let e;const ret=()=>{e===void 0&&(e=t());return e};ret.clear=()=>{e=void 0};return ret}const timer=()=>{let t;return{start(){t=performance.now()},cancel(){t=void 0},stop(){if(!t)return 0;const e=performance.now()-t;t=void 0;return e}}};const opposite=t=>t==="white"?"black":"white";const distanceSq=(t,e)=>{const o=t[0]-e[0],n=t[1]-e[1];return o*o+n*n};const samePiece=(t,e)=>t.role===e.role&&t.color===e.color;const posToTranslate=t=>(e,o)=>[(o?e[0]:7-e[0])*t.width/8,(o?7-e[1]:e[1])*t.height/8];const translate=(t,e)=>{t.style.transform=`translate(${e[0]}px,${e[1]}px)`};const translateAndScale=(t,e,o=1)=>{t.style.transform=`translate(${e[0]}px,${e[1]}px) scale(${o})`};const setVisible=(t,e)=>{t.style.visibility=e?"visible":"hidden"};const eventPosition=t=>{var e;return t.clientX||t.clientX===0?[t.clientX,t.clientY]:((e=t.targetTouches)===null||e===void 0?void 0:e[0])?[t.targetTouches[0].clientX,t.targetTouches[0].clientY]:void 0};const isRightButton=t=>t.button===2;const createEl=(t,e)=>{const o=document.createElement(t);e&&(o.className=e);return o};function computeSquareCenter(t,e,o){const n=key2pos(t);if(!e){n[0]=7-n[0];n[1]=7-n[1]}return[o.left+o.width*n[0]/8+o.width/16,o.top+o.height*(7-n[1])/8+o.height/16]}export{n as allKeys,r as allPos,computeSquareCenter,createEl,distanceSq,eventPosition,o as invRanks,isRightButton,key2pos,memo,opposite,pos2key,posToTranslate,samePiece,setVisible,timer,translate,translateAndScale,uciToMove};
//# sourceMappingURL=util.js.map
